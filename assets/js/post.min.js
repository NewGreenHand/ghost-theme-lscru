function showFullScreenImg(e){$("#show_image_layer,#img_wrapper").removeClass("hidden");var t=$(e.target).attr("src");$("#img_wrapper img").attr("src",t),$("body").css("overflow","hidden")}function exitFullScreen(){$("#show_image_layer").hasClass("hidden")||($("#show_image_layer,#img_wrapper").addClass("hidden"),$("#img_wrapper img").attr("src",""),$("body").removeAttr("style"))}function copyCode(e){var t=$(e).nextAll("code").text();clipboard.copy(t).then(function(){$(e).text("已复制"),$(e).attr("title","代码已成功复制").tooltip("fixTitle").tooltip("show")})}function addBlankTargetForLinks(){$('.md-preview a[href^="http"]').each(function(){$(this).attr("target","_blank")})}function initSlide(){$(".navbar-side").css("right",0),$(".article-left").addClass("has-side"),$("#toc").toc({selectors:"h1,h2,h3",container:".md-preview",prefix:"toc",highlightOffset:1,anchorName:function(e,t,o){return o+e}}),setTimeout(function(){setTocPosition()},10)}function hideSlide(e){$(".navbar-side").css("right","-268px"),$("#toc").empty(),setTimeout(function(){$(".article-left").removeClass("has-side")},200)}function setTocPosition(){var e=$(".md-preview").offset().top+$(".md-preview").outerHeight()-$("#toc").outerHeight(),t=$(window).scrollTop(),o=$("header").outerHeight();t<=o?$(".toc-wrapper").removeClass("position-fixed").addClass("position-absolute").removeAttr("style"):o<t&&t<=e?($(".toc-wrapper").removeAttr("style"),$(".toc-wrapper").removeClass("position-absolute").addClass("position-fixed")):$(".toc-wrapper").removeClass("position-fixed").addClass("position-absolute").css("top",e-$(".md-preview").offset().top)}$(function(){$(".md-preview img").click(function(e){showFullScreenImg(e)}),$("#img_wrapper").click(function(){exitFullScreen()})}),$(document).keydown(function(e){if(27==(e=e||event).keyCode)return exitFullScreen(),!1}),$(function(){$(window).scroll(function(){400<=$(window).scrollTop()?$("#cd_top").fadeIn(400):$("#cd_top").fadeOut(400)}),$("#cd_top").click(function(){return $("html,body").animate({scrollTop:"0px"},600),!1})}),function(e,t){"undefined"!=typeof module?module.exports=t():"function"==typeof define&&"object"==typeof define.amd?define(t):this.clipboard=t()}(0,function(){if("undefined"==typeof document||!document.addEventListener)return null;var o,n,a,i,r,l,e,t,s,c={};function d(){o=!1,n=null,a&&window.getSelection().removeAllRanges(),a=!1}function f(e,t){return function(){e.apply(t,arguments)}}function u(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._value=this._state=null,this._deferreds=[],w(e,f(p,this),f(m,this))}function h(o){var n=this;return null===this._state?void this._deferreds.push(o):void t(function(){var e=n._state?o.onFulfilled:o.onRejected;if(null!==e){var t;try{t=e(n._value)}catch(e){return void o.reject(e)}o.resolve(t)}else(n._state?o.resolve:o.reject)(n._value)})}function p(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void w(f(t,e),f(p,this),f(m,this))}this._state=!0,this._value=e,v.call(this)}catch(e){m.call(this,e)}}function m(e){this._state=!1,this._value=e,v.call(this)}function v(){for(var e=0,t=this._deferreds.length;e<t;e++)h.call(this,this._deferreds[e]);this._deferreds=null}function g(e,t,o,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=o,this.reject=n}function w(e,t,o){var n=!1;try{e(function(e){n||(n=!0,t(e))},function(e){n||(n=!0,o(e))})}catch(e){n||(n=!0,o(e))}}return c.copy=(n=null,a=o=!1,document.addEventListener("copy",function(e){if(o){for(var t in n)e.clipboardData.setData(t,n[t]);e.preventDefault()}}),function(e){return new Promise(function(i,r){o=!0,"string"==typeof e?n={"text/plain":e}:e instanceof Node?n={"text/html":(new XMLSerializer).serializeToString(e)}:e instanceof Object?n=e:r("Invalid data type. Must be string, DOM node, or an object mapping MIME types to strings."),function e(t){try{if(document.execCommand("copy"))d(),i();else{if(t)throw d(),Error("Unable to copy. Perhaps it's not available in your browser?");var o=document.getSelection();if(!document.queryCommandEnabled("copy")&&o.isCollapsed){var n=document.createRange();n.selectNodeContents(document.body),o.removeAllRanges(),o.addRange(n),a=!0}e(!0)}}catch(e){d(),r(e)}}(!1)})}),c.paste=(l=!1,document.addEventListener("paste",function(e){if(l){l=!1,e.preventDefault();var t=i;i=null,t(e.clipboardData.getData(r))}}),function(o){return new Promise(function(e,t){l=!0,i=e,r=o||"text/plain";try{document.execCommand("paste")||(l=!1,t(Error("Unable to paste. Pasting only works in Internet Explorer at the moment.")))}catch(e){l=!1,t(Error(e))}})}),"undefined"==typeof ClipboardEvent&&void 0!==window.clipboardData&&void 0!==window.clipboardData.setData&&(e=this,t=u.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(o,n){var i=this;return new u(function(e,t){h.call(i,new g(o,n,e,t))})},u.all=function(){var l=Array.prototype.slice.call(1===arguments.length&&s(arguments[0])?arguments[0]:arguments);return new u(function(n,i){function r(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if("function"==typeof o)return void o.call(e,function(e){r(t,e)},i)}l[t]=e,0==--a&&n(l)}catch(e){i(e)}}if(0===l.length)return n([]);for(var a=l.length,e=0;e<l.length;e++)r(e,l[e])})},u.resolve=function(t){return t&&"object"==typeof t&&t.constructor===u?t:new u(function(e){e(t)})},u.reject=function(o){return new u(function(e,t){t(o)})},u.race=function(i){return new u(function(e,t){for(var o=0,n=i.length;o<n;o++)i[o].then(e,t)})},"undefined"!=typeof module&&module.exports?module.exports=u:e.Promise||(e.Promise=u),c.copy=function(o){return new Promise(function(e,t){if("string"!=typeof o&&!("text/plain"in o))throw Error("You must provide a text/plain type.");window.clipboardData.setData("Text","string"==typeof o?o:o["text/plain"])?e():t(Error("Copying was rejected."))})},c.paste=function(){return new Promise(function(e,t){var o=window.clipboardData.getData("Text");o?e(o):t(Error("Pasting was rejected."))})}),c}),$(function(){$(".md-preview pre").hover(function(){if($(this).children(".copy-code-wrapper").length<=0){$("<a data-toggle='tooltip' data-placement='right' title='点击复制代码' class='copy-code-wrapper' onclick='copyCode(this);'>复制</a>").prependTo($(this));var e=$(this).offset().top,t=$(this).offset().left+$(this).outerWidth()-$(this).children(".copy-code-wrapper").outerWidth();$(this).children(".copy-code-wrapper").offset({top:e,left:t}),$(this).children(".copy-code-wrapper").tooltip()}},function(){$(this).children(".copy-code-wrapper").remove()})}),$(function(){$(document).bind("DOMNodeInserted",function(){addBlankTargetForLinks()})}),$(function(){0<$(".md-preview h1,.md-preview h2,.md-preview h3").length&&($(".navbar-side").removeClass("hidden"),initSlide()),$(window).scroll(function(){setTocPosition()})}),function(o){o.fn.smoothScroller=function(e){e=o.extend({},o.fn.smoothScroller.defaults,e);var t=o(this);return o(e.scrollEl).animate({scrollTop:t.offset().top-o(e.scrollEl).offset().top-e.offset},e.speed,e.ease,function(){var e=t.attr("id");e.length&&(history.pushState?history.pushState(null,null,"#"+e):document.location.hash=e),t.trigger("smoothScrollerComplete")}),this},o.fn.smoothScroller.defaults={speed:400,ease:"swing",scrollEl:"body,html",offset:0},o("body").on("click","[data-smoothscroller]",function(e){e.preventDefault();var t=o(this).attr("href");0===t.indexOf("#")&&o(t).smoothScroller()})}(jQuery),function(g){var r={};g.fn.toc=function(e){function c(e){t&&clearTimeout(t),t=setTimeout(function(){if(0!=g("li",h).length){var e,t,o=g(window).scrollTop(),n=(Number.MAX_VALUE,0);if(t=u<o?"down":"up",(u=o)<m[0])n=0;else if(o>=m[m.length-1])n=m.length-1;else for(var i=0,r=m.length;i<r;i++)if(o<m[i]){n=i-1;break}g("li",h).removeClass(v),e=g("li:eq("+n+")",h).addClass(v).removeClass("hidden");var a=g(".toc-active")[0].className.split(" ")[0],l=a.charAt(a.length-1),s=g(".toc-active").nextAll(),c=g(".toc-active").prevAll();if("down"==t){var d=g(".toc-active").prevAll(".toc-h"+(parseInt(l)+1));g(d).addClass("hidden"),g.each(s,function(e,t){var o=t.className.split(" ")[0],n=o.charAt(o.length-1);return!(n<l)&&(n==l?(g(t).removeClass("hidden"),!0):void 0)}),g.each(c,function(e,t){var o=t.className.split(" ")[0],n=o.charAt(o.length-1);return n<l?(g(t).prevAll(".toc-h"+parseInt(l)).addClass("hidden"),g(t).removeClass("hidden"),!1):n==l?(g(t).removeClass("hidden"),!0):void 0}),g("li:eq(0)",h).removeClass("hidden")}else{var f=g(".toc-active").nextAll(".toc-h"+(parseInt(l)+1));g(f).addClass("hidden"),g.each(c,function(e,t){var o=t.className.split(" ")[0],n=o.charAt(o.length-1);return n<l?(g(t).removeClass("hidden"),!1):n==l?(g(t).removeClass("hidden"),!0):void 0}),g.each(s,function(e,t){var o=t.className.split(" ")[0],n=o.charAt(o.length-1);return n<l?(g(t).nextAll(".toc-h"+parseInt(l)).addClass("hidden"),!1):n==l?(g(t).removeClass("hidden"),!0):void 0})}p.onHighlight(e)}},50)}var t,u,h=this,p=g.extend({},jQuery.fn.toc.defaults,e),o=g(p.container),n=g(p.selectors,o),m=[],v=p.activeClass;if(p.highlightOnScroll&&(g(window).bind("scroll",c),c()),0!=n.length){var d=parseInt(n[0].localName.replace("h",""));return this.each(function(){var l=g(this),s=g(p.listType);n.each(function(e,t){var o=g(t);m.push(o.offset().top-p.highlightOffset);var n=p.anchorName(e,t,p.prefix),i=parseInt(t.localName.replace("h",""));if(t.id!==n)g("<span/>").attr("id",n).insertBefore(o);var r=g("<a/>").text(p.headerText(e,t,o)).attr("href","#"+n).bind("click",function(e){g(window).unbind("scroll",c),function(e,t){if(p.smoothScrolling&&"function"==typeof p.smoothScrolling){e.preventDefault();var o=g(e.target).attr("href");p.smoothScrolling(o,p,t)}g("li",h).removeClass(v),g(e.target).parent().addClass(v)}(e,function(){g(window).bind("scroll",c)}),l.trigger("selected",g(this).attr("href"))}),a=g("<li/>").addClass(p.itemClass(e,t,o,p.prefix)).append(r);d<i?a.addClass("hidden"):d=i,s.append(a)}),l.html(s)})}},jQuery.fn.toc.defaults={container:"body",listType:"<ul/>",selectors:"h1,h2,h3",smoothScrolling:function(e,t,o){g(e).smoothScroller({offset:t.scrollToOffset}).on("smoothScrollerComplete",function(){o()})},scrollToOffset:0,prefix:"toc",activeClass:"toc-active",onHighlight:function(){},highlightOnScroll:!0,highlightOffset:100,anchorName:function(e,t,o){if(t.id.length)return t.id;var n=g(t).text().replace(/[^a-z0-9]/gi," ").replace(/\s+/g,"-").toLowerCase();if(r[n]){for(var i=2;r[n+i];)i++;n=n+"-"+i}return r[n]=!0,o+"-"+n},headerText:function(e,t,o){return o.text()},itemClass:function(e,t,o,n){return n+"-"+o[0].tagName.toLowerCase()}}}(jQuery);
//# sourceMappingURL=post.min.js.map